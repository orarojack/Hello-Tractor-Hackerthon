<div class="relative min-h-screen flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-[url('tractor-one')] bg-cover bg-center blur-sm"></div>
  <div class="fixed inset-0 bg-black/50"></div>
  
  <div class="relative z-10 w-full max-w-4xl">
    <div class="bg-white rounded-2xl shadow-2xl overflow-hidden lg:grid lg:grid-cols-2">
      <!-- Image Side (hidden on mobile, shown on lg screens) -->
      <div class="hidden lg:block relative">
        <div class="absolute inset-0 bg-[url('tractor-one')] bg-cover bg-center"></div>
        <div class="absolute inset-0 bg-black/20"></div>
      </div>
      
      <!-- Form Side -->
      <div class="p-8 lg:p-12 bg-white space-y-4">
        <div class="flex items-center justify-center">
          <%= image_tag "logos/orange-icon.png", class: "w-12" %>
          <h2 class="text-xl font-bold text-gray-800 capitalize">Welcome Back to <b class="text-primarySunset">Hello Tractor</b></h2>
        </div>

        <%= form_for(resource, as: resource_name, url: session_path(resource_name), class: "") do |f| %>
          <div class="space-y-5">
            <div class="flex flex-col gap-1">
              <%= f.label :email, class: "text-gray-700 text-sm" %>
              <%= f.email_field :email, autofocus: true, autocomplete: "email", 
                  class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primarySunset " %>
            </div>

            <div class="flex flex-col gap-1">
              <%= f.label :password, class: "text-gray-700 mb-1 text-sm" %>
              <div class="relative">
                <%= f.password_field :password, autocomplete: "current-password",
                    class: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primarySunset ", id: "password-field" %>
                <i class="fa-solid fa-eye absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer" id="show-password"></i>
                <i class="fa-solid fa-eye-slash absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 cursor-pointer" id="hide-password" style="display: none"></i>
              </div>
            </div>

            <% if devise_mapping.rememberable? %>
              <div class="flex flex-row items-center gap-2 my-5">
                <%= f.check_box :remember_me, class: "text-primarySunset h-5 w-5 focus:ring-primarySunset rounded-sm" %>
                <%= f.label :remember_me, class: "text-gray-700" %>
              </div>
            <% end %>

            <div class="actions">
              <%= f.submit "Log in", class: "w-full bg-primarySunset text-white px-4 py-2 rounded-md hover:bg-primarySunset/80 transition duration-200 cursor-pointer" %>
            </div>
          </div>
        <% end %>

        <div class="mt-6 text-center text-gray-600">
          <%= render "devise/shared/links" %>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("turbo:load", () => {
    const passwordField = document.getElementById("password-field");
    const showPassword = document.getElementById("show-password");
    const hidePassword = document.getElementById("hide-password");

    showPassword.addEventListener("click", () => {
      passwordField.type = "text";
      showPassword.style.display = "none";
      hidePassword.style.display = "block";
    });

    hidePassword.addEventListener("click", () => {
      passwordField.type = "password";
      showPassword.style.display = "block";
      hidePassword.style.display = "none";
    });
  })
</script>